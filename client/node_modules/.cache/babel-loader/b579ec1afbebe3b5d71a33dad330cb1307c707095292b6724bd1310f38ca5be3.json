{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\n// Get all courses\nexport const getCourses = createAsyncThunk('courses/getCourses', async (params, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/courses', {\n      params\n    });\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.response.data.message);\n  }\n});\n\n// Get course by ID\nexport const getCourse = createAsyncThunk('courses/getCourse', async (id, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`/courses/${id}`);\n    return response.data.course;\n  } catch (error) {\n    return rejectWithValue(error.response.data.message);\n  }\n});\n\n// Create course\nexport const createCourse = createAsyncThunk('courses/createCourse', async (courseData, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.post('/courses', courseData);\n    return response.data.course;\n  } catch (error) {\n    return rejectWithValue(error.response.data.message);\n  }\n});\nconst initialState = {\n  courses: [],\n  currentCourse: null,\n  loading: false,\n  error: null,\n  totalPages: 0,\n  currentPage: 1\n};\nconst courseSlice = createSlice({\n  name: 'courses',\n  initialState,\n  reducers: {\n    clearError: state => {\n      state.error = null;\n    },\n    clearCurrentCourse: state => {\n      state.currentCourse = null;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Get Courses\n    .addCase(getCourses.pending, state => {\n      state.loading = true;\n    }).addCase(getCourses.fulfilled, (state, action) => {\n      state.loading = false;\n      state.courses = action.payload.courses;\n      state.totalPages = action.payload.totalPages;\n      state.currentPage = action.payload.currentPage;\n      state.error = null;\n    }).addCase(getCourses.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n    // Get Course\n    .addCase(getCourse.pending, state => {\n      state.loading = true;\n    }).addCase(getCourse.fulfilled, (state, action) => {\n      state.loading = false;\n      state.currentCourse = action.payload;\n      state.error = null;\n    }).addCase(getCourse.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n    // Create Course\n    .addCase(createCourse.pending, state => {\n      state.loading = true;\n    }).addCase(createCourse.fulfilled, (state, action) => {\n      state.loading = false;\n      state.courses.unshift(action.payload);\n      state.error = null;\n    }).addCase(createCourse.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport const {\n  clearError,\n  clearCurrentCourse\n} = courseSlice.actions;\nexport default courseSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","getCourses","params","rejectWithValue","response","get","data","error","message","getCourse","id","course","createCourse","courseData","post","initialState","courses","currentCourse","loading","totalPages","currentPage","courseSlice","name","reducers","clearError","state","clearCurrentCourse","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","unshift","actions","reducer"],"sources":["F:/new/client/src/store/slices/courseSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n// Get all courses\r\nexport const getCourses = createAsyncThunk('courses/getCourses', async (params, { rejectWithValue }) => {\r\n  try {\r\n    const response = await axios.get('/courses', { params });\r\n    return response.data;\r\n  } catch (error) {\r\n    return rejectWithValue(error.response.data.message);\r\n  }\r\n});\r\n\r\n// Get course by ID\r\nexport const getCourse = createAsyncThunk('courses/getCourse', async (id, { rejectWithValue }) => {\r\n  try {\r\n    const response = await axios.get(`/courses/${id}`);\r\n    return response.data.course;\r\n  } catch (error) {\r\n    return rejectWithValue(error.response.data.message);\r\n  }\r\n});\r\n\r\n// Create course\r\nexport const createCourse = createAsyncThunk('courses/createCourse', async (courseData, { rejectWithValue }) => {\r\n  try {\r\n    const response = await axios.post('/courses', courseData);\r\n    return response.data.course;\r\n  } catch (error) {\r\n    return rejectWithValue(error.response.data.message);\r\n  }\r\n});\r\n\r\nconst initialState = {\r\n  courses: [],\r\n  currentCourse: null,\r\n  loading: false,\r\n  error: null,\r\n  totalPages: 0,\r\n  currentPage: 1,\r\n};\r\n\r\nconst courseSlice = createSlice({\r\n  name: 'courses',\r\n  initialState,\r\n  reducers: {\r\n    clearError: (state) => {\r\n      state.error = null;\r\n    },\r\n    clearCurrentCourse: (state) => {\r\n      state.currentCourse = null;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Get Courses\r\n      .addCase(getCourses.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(getCourses.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.courses = action.payload.courses;\r\n        state.totalPages = action.payload.totalPages;\r\n        state.currentPage = action.payload.currentPage;\r\n        state.error = null;\r\n      })\r\n      .addCase(getCourses.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      // Get Course\r\n      .addCase(getCourse.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(getCourse.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.currentCourse = action.payload;\r\n        state.error = null;\r\n      })\r\n      .addCase(getCourse.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      // Create Course\r\n      .addCase(createCourse.pending, (state) => {\r\n        state.loading = true;\r\n      })\r\n      .addCase(createCourse.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.courses.unshift(action.payload);\r\n        state.error = null;\r\n      })\r\n      .addCase(createCourse.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const { clearError, clearCurrentCourse } = courseSlice.actions;\r\nexport default courseSlice.reducer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}